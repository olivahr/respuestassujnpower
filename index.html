<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario de Verificaci√≥n</title>
  <link rel="stylesheet" href="style.css">
</head>

<body class="survey-page">

<div class="survey-wrapper">

<form id="form" class="survey-form">

  <h2>Formulario de Verificaci√≥n</h2>
  <p class="step-desc">
    Complete la siguiente informaci√≥n para continuar con el proceso.
  </p>

  <div class="card-like">
    <label>Nombre <span class="req">*</span></label>
    <input type="text" name="nombre" required>
  </div>

  <div class="card-like">
    <label>Apellido <span class="req">*</span></label>
    <input type="text" name="apellido" required>
  </div>

  <!-- PREGUNTA CLAVE -->
  <div class="card-like">
    <label>1. ¬øAcepta los t√©rminos y condiciones? <span class="req">*</span></label>
    <div class="radio-row">
      <label><input type="radio" name="q1" value="S√≠" required> S√≠</label>
      <label><input type="radio" name="q1" value="No"> No</label>
    </div>
  </div>

  <!-- PREGUNTA CLAVE -->
  <div class="card-like">
    <label>2. ¬øTiene experiencia previa en el √°rea? <span class="req">*</span></label>
    <div class="radio-row">
      <label><input type="radio" name="q2" value="S√≠" required> S√≠</label>
      <label><input type="radio" name="q2" value="No"> No</label>
    </div>
  </div>

  <!-- PREGUNTA CLAVE -->
  <div class="card-like">
    <label>3. ¬øPuede comenzar de inmediato? <span class="req">*</span></label>
    <div class="radio-row">
      <label><input type="radio" name="q3" value="S√≠" required> S√≠</label>
      <label><input type="radio" name="q3" value="No"> No</label>
    </div>
  </div>

  <div class="card-like">
    <label>4. ¬øCuenta con transporte propio? <span class="req">*</span></label>
    <div class="radio-row">
      <label><input type="radio" name="q4" value="S√≠" required> S√≠</label>
      <label><input type="radio" name="q4" value="No"> No</label>
    </div>
  </div>

  <div class="btns">
    <button type="submit" class="next">Enviar solicitud</button>
  </div>

  <div id="resultBox"></div>

  <div class="footer">
    ¬©Ô∏è 2026 ¬∑ Departamento de Recursos Humanos
  </div>

</form>

</div>

<script>
document.getElementById("form").addEventListener("submit", function(e) {
  e.preventDefault();

  const d = new FormData(this);
  const nombre = d.get("nombre");
  const apellido = d.get("apellido");

  const respuestas = {
    q1: d.get("q1"),
    q2: d.get("q2"),
    q3: d.get("q3"),
    q4: d.get("q4")
  };

  const rechazo = Object.values(respuestas).includes("No");

  const box = document.getElementById("resultBox");
  box.style.display = "block";

  let mensajeTelegram = 
    "üìã NUEVA SOLICITUD\n\n" +
    "Nombre: " + nombre + " " + apellido + "\n" +
    "Estado: " + (rechazo ? "RECHAZADO" : "APROBADO") + "\n\n" +
    "Q1: " + respuestas.q1 + "\n" +
    "Q2: " + respuestas.q2 + "\n" +
    "Q3: " + respuestas.q3 + "\n" +
    "Q4: " + respuestas.q4;

  fetch("https://api.telegram.org/bot8219963792:AAGWcvtcyC0rd0zMLXN2Uf3uPUySB9GuBTw/sendMessage", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      chat_id: "8547093828",
      text: mensajeTelegram
    })
  });

  if (rechazo) {
    box.className = "result-box result-fail";
    box.innerHTML = `
      <strong>No es posible completar la solicitud</strong><br><br>
      Lo sentimos mucho. En este momento su perfil no cumple con los requisitos del proceso.
      <br><br>
      Nuestro departamento de <strong>Recursos Humanos</strong> se pondr√° en contacto con usted
      en caso de existir futuras oportunidades.
    `;
  } else {
    box.className = "result-box result-success";
    box.innerHTML = `
      <strong>¬°Felicidades!</strong><br><br>
      Su solicitud ha sido recibida exitosamente.
      <br><br>
      Por favor, contacte a su <strong>reclutador asignado</strong> para continuar con el proceso.
    `;
  }

  this.querySelector(".btns").style.display = "none";
});
</script>

</body>
</html>
